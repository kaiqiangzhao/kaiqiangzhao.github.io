<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" >

<title>tmux-终端复用 | OOK</title>

<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no">

<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@5.12.0/css/all.min.css">
<link rel="shortcut icon" href="https://ookcafe.com/favicon.ico?v=1588657598267">
<link rel="stylesheet" href="https://ookcafe.com/styles/main.css">


   <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.11.1/dist/katex.min.css">




<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/aos@2.3.4/dist/aos.css" />
<script src="https://cdn.jsdelivr.net/npm/vue/dist/vue.js"></script>



    <meta name="description" content="linux 下的终端复用工具，一般用来跑后台程序，以防网络中断，退出会话，导致程序终止。


简介
会话
窗口
窗格


简介
tmux is a terminal multiplexer.(终端复用)
tmux是终端多路复用神器。它允许你..." />
    <meta name="keywords" content="linux" />
  </head>
  <body>
    <div id="app" class="main">

      <div class="sidebar" :class="{ 'full-height': menuVisible }">
  <div class="top-container" data-aos="fade-right">
    <div class="top-header-container">
      <a class="site-title-container" href="https://ookcafe.com">
        <img src="https://ookcafe.com/images/avatar.png?v=1588657598267" class="site-logo">
        <h1 class="site-title">OOK</h1>
      </a>
      <div class="menu-btn" @click="menuVisible = !menuVisible">
        <div class="line"></div>
      </div>
    </div>
    <div>
      
        
          <a href="/" class="site-nav">
            首页
          </a>
        
      
        
          <a href="/archives" class="site-nav">
            归档
          </a>
        
      
        
          <a href="/tags" class="site-nav">
            标签
          </a>
        
      
        
          <a href="/post/about" class="site-nav">
            关于
          </a>
        
      
    </div>
  </div>
  <div class="bottom-container" data-aos="flip-up" data-aos-offset="0">
    <div class="social-container">
      
        
      
        
      
        
      
        
          <a class="social-link" href="https://www.zhihu.com/people/ooker" target="_blank">
            <i class="fab fa-zhihu"></i>
          </a>
        
      
        
      
        
      
    </div>
    <div class="site-description">
      Simpler life, Deeper mind.
    </div>
    <div class="site-footer">
      Powered by <a href="https://github.com/getgridea/gridea" target="_blank">Gridea</a> | <a class="rss" href="https://ookcafe.com/atom.xml" target="_blank">RSS</a>
    </div>
  </div>
</div>


      <div class="main-container">
        <div class="content-container" data-aos="fade-up">
          <div class="post-detail">
            <h2 class="post-title">tmux-终端复用</h2>
            <div class="post-date">2018-12-17</div>
            
            <div class="post-content" v-pre>
              <p>linux 下的终端复用工具，一般用来跑后台程序，以防网络中断，退出会话，导致程序终止。</p>
<!-- more -->
<ol>
<li>简介</li>
<li>会话</li>
<li>窗口</li>
<li>窗格</li>
</ol>
<hr>
<h2 id="简介">简介</h2>
<p>tmux is a terminal multiplexer.(终端复用)</p>
<p>tmux是终端多路复用神器。它允许你在一个终端的多个程序之间轻松切换。</p>
<p>使用它最直观的好处就是，通过一个终端登录远程主机并运行tmux后，在其中可以开启多个控制台而无需在浪费多余的终端来连接这台远程主机。当我们在tmux中工作的时候，即使关掉连接窗口，再次连接，进入tmux和会话我们之前的工作仍然在继续</p>
<hr>
<p><strong>tmux中有三种概念：会话（session），窗口（window），窗格（pane）</strong></p>
<ul>
<li>会话有点像是tmux的服务，在后端运行，我们可以通过tmux命令创建这种服务，并且可以通过tmux命令查看，附件到后端允许的会话中。</li>
<li>一个会话可以包含多个窗口</li>
<li>一个窗口可以被分割成多个窗格</li>
</ul>
<hr>
<h2 id="会话">会话</h2>
<p>1.<strong>tmux new -s session1</strong></p>
<ul>
<li>新建一个会话，-s (session的首字母)。运行后会从终端环境进入到会话环境。</li>
<li>当进入到session之后，在下面有一条绿色的状态指示栏，example：[session]0:myserver1*</li>
<li>依次是当前会话的名字，会话中的窗口序号，以及窗口名字，窗口名字后面有一个星号*,表示是我们操作的当前窗口。</li>
</ul>
<p>2.<strong>ctrl+b d</strong></p>
<ul>
<li>退出会话，回到shell的终端环境（linux的shell、bash，termial），d是detach(脱离)，但此时tmux的程序还在后端运行。</li>
</ul>
<p>3.<strong>tmux ls</strong></p>
<ul>
<li>终端环境查看会话列表</li>
</ul>
<p>4.<strong>ctrl+b s</strong></p>
<ul>
<li>会话环境查看会话列表，且可以通过方向键选择会话并回车，在会话间进行切换</li>
</ul>
<p>5.<strong>tmux a -t session1</strong></p>
<ul>
<li>从终端环境进入会话，a字母是attach（附加）的头字母，-t 指定要进入的已存在的会话名</li>
</ul>
<p>6.<strong>tmux kill-session -t session1</strong></p>
<ul>
<li>销毁会话，可以发生在终端环境和会话环境</li>
<li>在终端直接输入即可，在会话中需要先ctrl+b :（注意冒号），然后输入命令</li>
</ul>
<p>7.<strong>tmux rename -t old_session_name new_session_name</strong></p>
<ul>
<li>重命名会话，在终端环境中</li>
</ul>
<p>8.**ctrl+b $ **</p>
<ul>
<li>重命名会话，在会话环境中</li>
</ul>
<hr>
<h2 id="窗口">窗口</h2>
<p>窗口是我们工作的最小单位</p>
<p>默认情况下，在一个window中，只有一个大窗格，占满整个窗口区域。</p>
<p>新建的会话中会默认一个窗口，该窗口名字一般是登陆终端的用户名@主机</p>
<p>1.<strong>ctrl+b c</strong></p>
<ul>
<li>创建窗口，默认情况下创建出来的窗口，由窗口序号+窗口名字组成</li>
</ul>
<p>2.<strong>ctr+b ,</strong>（不要忘记逗号）</p>
<ul>
<li>重命名窗口</li>
</ul>
<p>3.<strong>ctrl+b p/n/0/w/l</strong></p>
<ul>
<li>
<p>窗口切换</p>
</li>
<li>
<p>ctrl+b p (previous的首字母) 切换到上一个window。</p>
</li>
<li>
<p>ctrl+b n (next的首字母) 切换到下一个window。</p>
</li>
<li>
<p>ctrl+b 0 切换到0号window，依次类推，可换成任意窗口序号</p>
</li>
<li>
<p>ctrl+b w (windows的首字母) 列出当前session所有window，通过上、下键切换窗口</p>
</li>
<li>
<p>ctrl+b l (字母L的小写)相邻的window切换</p>
</li>
</ul>
<p>4.<strong>ctrl+&amp;</strong></p>
<ul>
<li>关闭当前window，会有y/n的提示</li>
</ul>
<hr>
<h2 id="窗格">窗格</h2>
<p>tmux的一个窗口，可以被分成多个pane（窗格），可以做出分屏的效果</p>
<p>1.<strong>ctrl+b %</strong></p>
<ul>
<li>垂直分屏</li>
</ul>
<p>2.<strong>ctrl+b “</strong></p>
<ul>
<li>水平分屏</li>
<li>分屏之后光标停留在哪个pane上，表示该pane是活动的，另外一般情况下当前pane会被绿色的线条围起来。一般分屏之后当前窗口名字会重置为默认窗口名字。通过多次分屏操作，我们可以得到各种样子的分屏效果</li>
</ul>
<p>3.<strong>ctrl+b o/Up/Down/Left/Right/Space/z</strong></p>
<ul>
<li>切换pane</li>
<li>ctrl+b o 依次切换当前窗口下的各个pane</li>
<li>ctrl+b Up/Down/Left/Right 根据按箭方向选择切换到某个pane</li>
<li>ctrl+b Space (空格键) 对当前窗口下的所有pane重新排列布局，每按一次，换一种样式。</li>
<li>ctrl+b z 最大化当前pane。再按一次后恢复。</li>
</ul>
<p>4.<strong>ctrl+b x</strong></p>
<ul>
<li>关闭当前使用中的pane，操作后有关闭提示</li>
</ul>

            </div>
            
              <div class="tag-container">
                
                  <a href="https://ookcafe.com/tag/8zbomjMYO/" class="tag">
                    linux
                  </a>
                
              </div>
            
            

            

          </div>

        </div>
      </div>
    </div>

    <script src="https://cdn.jsdelivr.net/npm/aos@2.3.4/dist/aos.min.js"></script>
<script type="application/javascript">

AOS.init();

var app = new Vue({
  el: '#app',
  data: {
    menuVisible: false,
  },
})

</script>


  <script src="https://cdn.bootcss.com/highlight.js/9.12.0/highlight.min.js"></script>
  <script>
    hljs.initHighlightingOnLoad()
  </script>





  </body>
</html>
